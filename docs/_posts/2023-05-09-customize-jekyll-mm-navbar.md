---
layout: single
title: "Customizing minimal-mistakes Jekyll theme (IV)"
date: 2023-05-09 21:34:00 +0000
categories: jekyll minimal-mistakes
---

## Creating a navigation menu

### How-To

1. Create a `_data` directory in the project root directory.

2. Copy [`navigation.yml`](https://github.com/mmistakes/minimal-mistakes/blob/master/_data/navigation.yml) to the directory.

3. Add titles and URLs under the `main` section in `navigation.yml` for your own navigation menu. The below example displays two navigation items on the masthead: `Categories` and `Links`.

   ```
   main:
     - title: "Categories"
       url: /categories
     - title: "Links"
       url: /links
   ```

   NOTE: Proper archive settings will make `/categories` available automatically. See the previous article ["Customizing minimal-mistakes Jekyll theme (III)"]({% link _posts/2023-02-23-customize-jekyll-mm-archives.md %}) for more details.

4. Create a new page file `links.md` in `_pages` directory for `Links` navigation item. Add the following and your contents into `links.md`.

   ```
   ---
   permalink: /links/
   title: "Useful Links"
   ---
   ```

## Creating a sidebar

### How-To

1. Define a new section for custom sidebar menu in `_data/navigation.yml`.

   ```
   sidebar-main:
   ```

   NOTE: `_data/navigation.yml` must exist as prerequisite.

2. Add titles and URLs under the newly defined `sidebar-main` section in `navigation.yml` for custom sidebar menu. The below example displays two main navigation items `Categories` and `Links` on the sidebar. Additionally, navigation sub-items `Jekyll`, `Minimal-mistakes` and `Vagrant` are listed under the `Categories`.

   ```
   sidebar-main:
     - title: "Categories"
       children:
         - title: "Jekyll"
           url: /categories/jekyll/
         - title: "Minimal-mistakes"
           url: /categories/minimal-mistakes/
         - title: "Vagrant"
           url: /categories/vagrant/
     - title: "Links"
       url: /links/
   ```

3. Custom sidebar menu can be set in each post file or in `_config.yml` (in the case that the custom sidebar navigation menu needs to be added into several pages).

   * Setting the custom sidebar menu into a post file.

     ```
     ---
     layout: single
     title: "Creating a new Jekyll site with minimal-mistakes theme"
     date: 2023-02-18 10:16:00 +0000
     categories: jekyll minimal-mistakes
     sidebar:
       - nav: "sidebar-main"
     ---
     ```

   * Setting the custom sidebar menu into `_config.yml`.

     ```
     defaults:
       # _posts
       - scope:
           path: ""
           type: posts
         values:
           layout: single
           author_profile: false
           read_time: true
           comments: false
           share: false
           related: true
           show_date: true
           toc: true
           toc_sticky: true
           sidebar:
             - nav: "sidebar-main"
       # _pages
       - scope:
           path: "_pages"
           type: pages
         values:
           layout: single
           sidebar:
             - nav: "sidebar-main"
     ```

     NOTE: The above YAML Front Matter `defaults` sets to display the custom sidebar menu on all posts and all pages.
     However, the custom sidebar menu will not be shown on individual category pages which are automatically generated by `jekyll-archives` plugin. See ["Minimal-mistakes - Issue #2174"](https://github.com/mmistakes/minimal-mistakes/issues/2174) for more details.

     NOTE: When `author_profile` is set to `true`, the customer sidebar menu is located directly under the author profile.

## References

* [Minimal-mistakes - Navigation](https://mmistakes.github.io/minimal-mistakes/docs/navigation/)
* [Minimal-mistakes - Custom sidebar navigation menu](https://mmistakes.github.io/minimal-mistakes/docs/layouts/#custom-sidebar-navigation-menu)
* [Minimal-mistakes - Layout: Sidebar Custom](https://mmistakes.github.io/minimal-mistakes/layout-sidebar-custom)

